{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/shercy/cycle-tracking/src/app/components/ProtectedRoute.js"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppContext } from \"../context/AppContext\";\n\nexport default function ProtectedRoute({ children, allowedRoles }) {\n  const { user, token } = useAppContext();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!token) {\n      router.push(\"/login\");\n    } else if (allowedRoles && user && !allowedRoles.includes(user.role)) {\n      router.push(\"/\"); // Redirect to home if role not allowed\n    }\n  }, [token, user, allowedRoles, router]);\n\n  if (!token || (allowedRoles && user && !allowedRoles.includes(user.role))) {\n    return null;\n  }\n\n  return children;\n}\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAHA;;;;AAKe,SAAS,eAAe,EAAE,QAAQ,EAAE,YAAY,EAAE;IAC/D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,gBAAa,AAAD;IACpC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,OAAO;YACV,OAAO,IAAI,CAAC;QACd,OAAO,IAAI,gBAAgB,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;YACpE,OAAO,IAAI,CAAC,MAAM,uCAAuC;QAC3D;IACF,GAAG;QAAC;QAAO;QAAM;QAAc;KAAO;IAEtC,IAAI,CAAC,SAAU,gBAAgB,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAI;QACzE,OAAO;IACT;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///home/shercy/cycle-tracking/src/app/recommendations/page.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { useAppContext } from \"@/app/context/AppContext\";\nimport ProtectedRoute from \"@/app/components/ProtectedRoute\";\n\nexport default function RecommendationsDashboard() {\n  const { token } = useAppContext();\n  const [recommendations, setRecommendations] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchRecommendations = async () => {\n      try {\n        const res = await fetch(\"http://localhost:8080/api/recommendations\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        if (res.ok) {\n          const data = await res.json();\n          setRecommendations(data);\n        } else {\n          setError(\"No recommendations available\");\n        }\n      } catch {\n        setError(\"Something went wrong\");\n      }\n    };\n    if (token) fetchRecommendations();\n  }, [token]);\n\n  if (error) return <div className=\"p-6 text-red-500 text-center\">{error}</div>;\n  if (!recommendations.length)\n    return <div className=\"p-6 text-center\">Loading...</div>;\n\n  return (\n    <ProtectedRoute allowedRoles={[\"user\", \"doctor\", \"admin\"]}>\n      <div className=\"p-6 max-w-4xl mx-auto\">\n        <h1 className=\"text-2xl font-semibold mb-4\">Health Recommendations</h1>\n        <div className=\"bg-background p-6 rounded-lg shadow-md\">\n          <ul className=\"space-y-4\">\n            {recommendations.map((rec, index) => (\n              <li\n                key={index}\n                className=\"text-foreground p-4 bg-accent/10 rounded-lg\"\n              >\n                <strong>{rec.category}:</strong> {rec.advice}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,gBAAa,AAAD;IAC9B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,uBAAuB;YAC3B,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,6CAA6C;oBACnE,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;gBACA,IAAI,IAAI,EAAE,EAAE;oBACV,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,mBAAmB;gBACrB,OAAO;oBACL,SAAS;gBACX;YACF,EAAE,OAAM;gBACN,SAAS;YACX;QACF;QACA,IAAI,OAAO;IACb,GAAG;QAAC;KAAM;IAEV,IAAI,OAAO,qBAAO,8OAAC;QAAI,WAAU;kBAAgC;;;;;;IACjE,IAAI,CAAC,gBAAgB,MAAM,EACzB,qBAAO,8OAAC;QAAI,WAAU;kBAAkB;;;;;;IAE1C,qBACE,8OAAC,0IAAA,CAAA,UAAc;QAAC,cAAc;YAAC;YAAQ;YAAU;SAAQ;kBACvD,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA8B;;;;;;8BAC5C,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCACX,gBAAgB,GAAG,CAAC,CAAC,KAAK,sBACzB,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;;4CAAQ,IAAI,QAAQ;4CAAC;;;;;;;oCAAU;oCAAE,IAAI,MAAM;;+BAHvC;;;;;;;;;;;;;;;;;;;;;;;;;;AAWrB","debugId":null}}]
}