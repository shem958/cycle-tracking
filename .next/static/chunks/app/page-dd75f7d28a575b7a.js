(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9628:(e,t,a)=>{Promise.resolve().then(a.bind(a,2088)),Promise.resolve().then(a.bind(a,8650))},8030:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:i="",children:d,iconNode:h,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:c?24*Number(o)/Number(s):o,className:l("lucide",i),...m},[...h.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:c,...i}=a;return(0,r.createElement)(o,{ref:n,iconNode:t,className:l("lucide-".concat(s(e)),c),...i})});return a.displayName="".concat(e),a}},9949:(e,t,a)=>{"use strict";var r=a(8877);function s(){}function l(){}l.resetWarningCache=s,e.exports=function(){function e(e,t,a,s,l,n){if(n!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:s};return a.PropTypes=a,a}},1448:(e,t,a)=>{e.exports=a(9949)()},8877:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2088:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var r=a(7437),s=a(2265),l=a(8030);let n=(0,l.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),o=(0,l.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),c=(0,l.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),i=(0,l.Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),d=(0,l.Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),h=(0,l.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),m=()=>{let[e,t]=(0,s.useState)({startDate:"",length:"",symptoms:"",mood:""}),[a,l]=(0,s.useState)([]),[m,x]=(0,s.useState)(!1),[y,u]=(0,s.useState)(null),p=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:8080/api/cycles",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Unauthorized");let a=await t.json();l(a)}catch(e){console.error("Failed to fetch cycles:",e.message)}};(0,s.useEffect)(()=>{p()},[]);let g=a=>{let{name:r,value:s}=a.target;t({...e,[r]:s})},f=async a=>{a.preventDefault();try{let a=localStorage.getItem("token");(await fetch(m?"http://localhost:8080/api/cycles/".concat(y):"http://localhost:8080/api/cycles",{method:m?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e)})).ok?(t({startDate:"",length:"",symptoms:"",mood:""}),x(!1),u(null),p()):console.error("Failed to save cycle")}catch(e){console.error("Submit error:",e)}},b=e=>{t({startDate:e.startDate,length:e.length,symptoms:e.symptoms,mood:e.mood}),u(e.ID),x(!0)},j=async e=>{if(confirm("Are you sure you want to delete this entry?"))try{let t=localStorage.getItem("token");(await fetch("http://localhost:8080/api/cycles/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok?p():console.error("Failed to delete entry")}catch(e){console.error("Delete error:",e)}};return(0,r.jsxs)("div",{className:"min-h-screen w-full bg-pink-50 dark:bg-gray-900 p-6",children:[(0,r.jsx)("div",{className:"max-w-4xl mx-auto text-center mb-8",children:(0,r.jsx)("h1",{className:"text-gray-700 dark:text-gray-200 text-xl",children:"Track your cycles accurately and gain valuable health insights."})}),(0,r.jsxs)("form",{onSubmit:f,className:"max-w-4xl mx-auto p-8 rounded-3xl bg-[#1B2433] shadow-xl",children:[(0,r.jsx)("h2",{className:"text-3xl font-semibold mb-8 text-white text-center",children:m?"Edit Cycle":"Cycle Journal"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("label",{className:"block text-sm text-gray-300",children:[(0,r.jsx)(n,{className:"inline w-4 h-4 mr-2"}),"Start Date",(0,r.jsx)("input",{type:"date",name:"startDate",value:e.startDate,onChange:g,required:!0,className:"w-full mt-2 px-4 py-3 rounded-xl bg-[#2A3441] text-gray-200"})]}),(0,r.jsxs)("label",{className:"block text-sm text-gray-300",children:[(0,r.jsx)(o,{className:"inline w-4 h-4 mr-2"}),"Cycle Length (Days)",(0,r.jsx)("input",{type:"number",name:"length",value:e.length,onChange:g,min:"1",max:"99",required:!0,className:"w-full mt-2 px-4 py-3 rounded-xl bg-[#2A3441] text-gray-200"})]}),(0,r.jsxs)("label",{className:"block text-sm text-gray-300",children:[(0,r.jsx)(c,{className:"inline w-4 h-4 mr-2"}),"Mood",(0,r.jsx)("input",{type:"text",name:"mood",value:e.mood,onChange:g,placeholder:"How are you feeling?",className:"w-full mt-2 px-4 py-3 rounded-xl bg-[#2A3441] text-gray-200"})]})]}),(0,r.jsxs)("label",{className:"block text-sm text-gray-300",children:[(0,r.jsx)(i,{className:"inline w-4 h-4 mr-2"}),"Symptoms & Notes",(0,r.jsx)("textarea",{name:"symptoms",value:e.symptoms,onChange:g,rows:"12",placeholder:"Describe symptoms or notes...",className:"w-full mt-2 px-4 py-3 rounded-xl bg-[#2A3441] text-gray-200 resize-none"})]})]}),(0,r.jsxs)("div",{className:"mt-8 flex justify-between items-center",children:[(0,r.jsx)("button",{type:"submit",className:"px-8 py-3 rounded-xl bg-pink-500 hover:bg-pink-600 text-white font-medium text-lg",children:m?"Update Entry":"Save Entry"}),m&&(0,r.jsx)("button",{type:"button",onClick:()=>{x(!1),u(null),t({startDate:"",length:"",symptoms:"",mood:""})},className:"text-sm text-gray-300 hover:text-white underline",children:"Cancel Edit"})]})]}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto mt-12",children:[(0,r.jsx)("h3",{className:"text-xl font-medium mb-4 text-gray-800 dark:text-white",children:"Past Entries"}),(0,r.jsx)("ul",{className:"space-y-4",children:a.map(e=>(0,r.jsxs)("li",{className:"bg-white dark:bg-[#2A3441] rounded-xl p-4 shadow flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:[e.startDate," - ",e.length," days"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Mood: ",e.mood," | Symptoms: ",e.symptoms]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>b(e),className:"text-blue-500 hover:text-blue-700",title:"Edit",children:(0,r.jsx)(d,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:()=>j(e.ID),className:"text-red-500 hover:text-red-700",title:"Delete",children:(0,r.jsx)(h,{className:"w-5 h-5"})})]})]},e.ID))})]})]})}},8650:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(7437),s=a(2265),l=a(1448),n=a.n(l);class o{predictNextCycle(){if(this.history.length<2)return null;let e=[...this.history].sort((e,t)=>new Date(e.startDate)-new Date(t.startDate)),t=[];for(let a=1;a<e.length;a++){let r=new Date(e[a-1].startDate),s=new Date(e[a].startDate);t.push((s-r)/864e5)}let a=t.reduce((e,t)=>e+t)/t.length,r=Math.sqrt(t.map(e=>Math.pow(e-a,2)).reduce((e,t)=>e+t)/t.length),s=new Date(new Date(e[e.length-1].startDate).getTime()+864e5*a);return{predictedStartDate:s.toISOString().split("T")[0],confidenceInterval:[new Date(s.getTime()-864e5*r).toISOString().split("T")[0],new Date(s.getTime()+864e5*r).toISOString().split("T")[0]],averageCycleLength:a.toFixed(1),irregularityIndex:r.toFixed(2)}}addCycle(e){this.history.push(e)}constructor(e=[]){this.history=e}}let c=e=>{let{cycles:t=[]}=e,a=(0,s.useMemo)(()=>t.length<2?null:new o(t.map(e=>({startDate:e.startDate,length:e.length}))).predictNextCycle(),[t]);return(0,r.jsxs)("div",{className:"flex-1 bg-background p-6 rounded-lg shadow-md transition-colors duration-300 ease h-full",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Cycle History"}),a&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-accent/10 border border-accent/30 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 text-accent",children:"Cycle Prediction"}),(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Next Start Date:"})," ",a.predictedStartDate]}),(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Confidence Range:"})," ",a.confidenceInterval[0]," â†’"," ",a.confidenceInterval[1]]}),(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Average Cycle Length:"})," ",a.averageCycleLength," days"]}),(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Irregularity Index:"})," ",a.irregularityIndex]})]}),t.length>0?(0,r.jsx)("ul",{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-12rem)]",children:t.map((e,t)=>(0,r.jsxs)("li",{className:"p-4 border border-light-text/20 dark:border-dark-text/20 rounded-md  bg-light-bg/50 dark:bg-dark-bg/50  transition-colors duration-300 ease",children:[(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Start Date: "}),new Date(e.startDate).toLocaleDateString()]}),(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Cycle Length:"})," ",e.length," days"]}),(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Symptoms:"})," ",e.symptoms||"None"]}),(0,r.jsxs)("p",{className:"text-foreground",children:[(0,r.jsx)("strong",{children:"Mood:"})," ",e.mood||"Not specified"]})]},t))}):(0,r.jsx)("p",{className:"text-foreground/80",children:"No cycles logged yet."})]})};c.propTypes={cycles:n().arrayOf(n().shape({startDate:n().string.isRequired,length:n().number.isRequired,symptoms:n().string,mood:n().string})).isRequired};let i=c}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(9628)),_N_E=e.O()}]);