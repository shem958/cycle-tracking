{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/shercy/cycle-tracking/src/app/components/ProtectedRoute.js"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAppContext } from \"../context/AppContext\";\n\nexport default function ProtectedRoute({ children, allowedRoles }) {\n  const { user, token } = useAppContext();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!token) {\n      router.push(\"/login\");\n    } else if (allowedRoles && user && !allowedRoles.includes(user.role)) {\n      router.push(\"/\"); // Redirect to home if role not allowed\n    }\n  }, [token, user, allowedRoles, router]);\n\n  if (!token || (allowedRoles && user && !allowedRoles.includes(user.role))) {\n    return null;\n  }\n\n  return children;\n}\n"],"names":[],"mappings":";;;AACA;AACA;AACA;;AAHA;;;;AAKe,SAAS,eAAe,EAAE,QAAQ,EAAE,YAAY,EAAE;;IAC/D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,gBAAa,AAAD;IACpC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,CAAC,OAAO;gBACV,OAAO,IAAI,CAAC;YACd,OAAO,IAAI,gBAAgB,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;gBACpE,OAAO,IAAI,CAAC,MAAM,uCAAuC;YAC3D;QACF;mCAAG;QAAC;QAAO;QAAM;QAAc;KAAO;IAEtC,IAAI,CAAC,SAAU,gBAAgB,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAI;QACzE,OAAO;IACT;IAEA,OAAO;AACT;GAjBwB;;QACE,sIAAA,CAAA,gBAAa;QACtB,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///home/shercy/cycle-tracking/src/app/pregnancy/page.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { useAppContext } from \"@/app/context/AppContext\";\nimport ProtectedRoute from \"@/app/components/ProtectedRoute\";\n\nexport default function PregnancyDashboard() {\n  const { token } = useAppContext();\n  const [pregnancyData, setPregnancyData] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchPregnancyData = async () => {\n      try {\n        const res = await fetch(\"http://localhost:8080/api/pregnancy\", {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        if (res.ok) {\n          const data = await res.json();\n          setPregnancyData(data);\n        } else {\n          setError(\"No pregnancy data available\");\n        }\n      } catch {\n        setError(\"Something went wrong\");\n      }\n    };\n    if (token) fetchPregnancyData();\n  }, [token]);\n\n  if (error) return <div className=\"p-6 text-red-500 text-center\">{error}</div>;\n  if (!pregnancyData) return <div className=\"p-6 text-center\">Loading...</div>;\n\n  const { estimatedDueDate, appointments, weight, bloodPressure } =\n    pregnancyData;\n\n  return (\n    <ProtectedRoute allowedRoles={[\"user\", \"doctor\", \"admin\"]}>\n      <div className=\"p-6 max-w-4xl mx-auto\">\n        <h1 className=\"text-2xl font-semibold mb-4\">Pregnancy Dashboard</h1>\n        <div className=\"bg-background p-6 rounded-lg shadow-md\">\n          <div className=\"mb-6\">\n            <h2 className=\"text-lg font-medium mb-2 text-foreground\">\n              Overview\n            </h2>\n            <p className=\"text-foreground\">\n              <strong>Estimated Due Date:</strong>{\" \"}\n              {new Date(estimatedDueDate).toLocaleDateString()}\n            </p>\n            <p className=\"text-foreground\">\n              <strong>Current Week:</strong>{\" \"}\n              {Math.floor(\n                (((new Date() - new Date(estimatedDueDate)) /\n                  (7 * 24 * 60 * 60 * 1000)) *\n                  -1) /\n                  7\n              )}{\" \"}\n              weeks\n            </p>\n          </div>\n          <div className=\"mb-6\">\n            <h2 className=\"text-lg font-medium mb-2 text-foreground\">\n              Health Metrics\n            </h2>\n            <p className=\"text-foreground\">\n              <strong>Weight:</strong> {weight || \"Not recorded\"} kg\n            </p>\n            <p className=\"text-foreground\">\n              <strong>Blood Pressure:</strong> {bloodPressure || \"Not recorded\"}{\" \"}\n              mmHg\n            </p>\n          </div>\n          <div>\n            <h2 className=\"text-lg font-medium mb-2 text-foreground\">\n              Appointments\n            </h2>\n            <ul className=\"space-y-2\">\n              {appointments?.length > 0 ? (\n                appointments.map((appt, index) => (\n                  <li key={index} className=\"text-foreground\">\n                    {new Date(appt.date).toLocaleString()} - {appt.details}\n                  </li>\n                ))\n              ) : (\n                <p className=\"text-foreground/80\">No appointments scheduled.</p>\n              )}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,gBAAa,AAAD;IAC9B,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;wCAAE;YACR,MAAM;mEAAqB;oBACzB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM,uCAAuC;4BAC7D,SAAS;gCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;4BAAC;wBAC9C;wBACA,IAAI,IAAI,EAAE,EAAE;4BACV,MAAM,OAAO,MAAM,IAAI,IAAI;4BAC3B,iBAAiB;wBACnB,OAAO;4BACL,SAAS;wBACX;oBACF,EAAE,OAAM;wBACN,SAAS;oBACX;gBACF;;YACA,IAAI,OAAO;QACb;uCAAG;QAAC;KAAM;IAEV,IAAI,OAAO,qBAAO,6LAAC;QAAI,WAAU;kBAAgC;;;;;;IACjE,IAAI,CAAC,eAAe,qBAAO,6LAAC;QAAI,WAAU;kBAAkB;;;;;;IAE5D,MAAM,EAAE,gBAAgB,EAAE,YAAY,EAAE,MAAM,EAAE,aAAa,EAAE,GAC7D;IAEF,qBACE,6LAAC,6IAAA,CAAA,UAAc;QAAC,cAAc;YAAC;YAAQ;YAAU;SAAQ;kBACvD,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA8B;;;;;;8BAC5C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA2C;;;;;;8CAGzD,6LAAC;oCAAE,WAAU;;sDACX,6LAAC;sDAAO;;;;;;wCAA6B;wCACpC,IAAI,KAAK,kBAAkB,kBAAkB;;;;;;;8CAEhD,6LAAC;oCAAE,WAAU;;sDACX,6LAAC;sDAAO;;;;;;wCAAuB;wCAC9B,KAAK,KAAK,CACT,AAAE,CAAC,IAAI,SAAS,IAAI,KAAK,iBAAiB,IACxC,CAAC,IAAI,KAAK,KAAK,KAAK,IAAI,IACxB,CAAC,IACD;wCACD;wCAAI;;;;;;;;;;;;;sCAIX,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA2C;;;;;;8CAGzD,6LAAC;oCAAE,WAAU;;sDACX,6LAAC;sDAAO;;;;;;wCAAgB;wCAAE,UAAU;wCAAe;;;;;;;8CAErD,6LAAC;oCAAE,WAAU;;sDACX,6LAAC;sDAAO;;;;;;wCAAwB;wCAAE,iBAAiB;wCAAgB;wCAAI;;;;;;;;;;;;;sCAI3E,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAA2C;;;;;;8CAGzD,6LAAC;oCAAG,WAAU;8CACX,cAAc,SAAS,IACtB,aAAa,GAAG,CAAC,CAAC,MAAM,sBACtB,6LAAC;4CAAe,WAAU;;gDACvB,IAAI,KAAK,KAAK,IAAI,EAAE,cAAc;gDAAG;gDAAI,KAAK,OAAO;;2CAD/C;;;;kEAKX,6LAAC;wCAAE,WAAU;kDAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlD;GAtFwB;;QACJ,sIAAA,CAAA,gBAAa;;;KADT","debugId":null}}]
}